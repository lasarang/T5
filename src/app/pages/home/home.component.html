<div class="row" style="justify-content: center;">

  <div class="col">
    <div class="card border-left-primary">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-primary mb-1">
              Consultas</div>
            <div class="h5 mb-0 font-weight-bold text-gray-800">{{resumen.consultas}}</div>
          </div>
          <div class="col-auto">
            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card border-left-primary">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-primary mb-1">
              Exámenes</div>
            <div class="h5 mb-0 font-weight-bold text-gray-800">{{resumen.examenes}}</div>
          </div>
          <div class="col-auto">
            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card border-left-primary">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-primary mb-1">Medicamentos
            </div>
            <div class="row no-gutters align-items-center">
              <div class="h5 mb-0 font-weight-bold text-gray-800">{{resumen.medicamentos}}</div>
            </div>
          </div>
          <div class="col-auto">
            <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card border-left-primary">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-primary  mb-1">
              Imágenes</div>
            <div class="h5 mb-0 font-weight-bold text-gray-800">{{resumen.imagenes}}</div>
          </div>
          <div class="col-auto">
            <i class="fas fa-comments fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<hr class="my-4">

<div class="container">

  <form class="needs-validation">
    <div class="row g-3">

      <div class="row">
        <div class="col-8">
          <h4 class="mb-3">Información básica</h4>
        </div>

        <div class="col-4">

          <button (click)="updateRowInfo()" class="btn btn-datatable btn-icon btn-transparent-dark mr-2">

            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 6L9 17L4 12" stroke="black" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>

          </button>

        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Cédula</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.cedula" name="cedula" required
          placeholder="XXXXXXXXXX" maxlength="10" pattern="^\d{10}$">
        <div class="invalid-feedback">
          Cédula required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Nombres</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.nombres" name="nombres" required>
        <div class="invalid-feedback">
          Nombres required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Apellidos</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.apellidos" name="apellidos" required>
        <div class="invalid-feedback">
          Apellidos required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Teléfono</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.telefono" name="telefono" required>
        <div class="invalid-feedback">
          Telefono required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Email</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.email" name="email" required
        pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" type="email" placeholder="you@example.com">
        <div class="invalid-feedback">
          Email required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Dirección</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.direccion" name="direccion" required
          placeholder="1234 Main St">
        <div class="invalid-feedback">
          Dirección required.
        </div>
      </div>

    </div>

    <hr class="my-4">

    <div class="row g-3">
      <div class="row">
        <div class="col-8">
          <h4 class="mb-3">Información personal</h4>
        </div>
        <div class="col-4">

          <button (click)="updateRowInfo()" class="btn btn-datatable btn-icon btn-transparent-dark mr-2">

            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 6L9 17L4 12" stroke="black" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>

          </button>

        </div>
      </div>

      <div class="col-md-4">
        <label for="lastName" class="form-label">Fecha de nacimiento</label>
        <input type="date" class="form-control" [(ngModel)]="usuario.fechaNacimiento" name="fechaNacimiento" required>
        <div class="invalid-feedback">
          Valid Fecha de nacimiento is required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="state" class="form-label">Género legal</label>
        <select class="form-select" [(ngModel)]="usuario.generoLegal" name="generoLegal" required>
          <option value="">Choose...</option>
          <option>Masculino</option>
          <option>Femenino</option>
          <option>Otro</option>
        </select>
        <div class="invalid-feedback">
          Please provide a valid Género legal.
        </div>
      </div>

      <div class="col-md-4">
        <label for="country" class="form-label">Estado civil</label>
        <select class="form-select" [(ngModel)]="usuario.estadoCivil" name="estadoCivil" required>
          <option value="">Choose...</option>
          <option>Solter@</option>
          <option>Unión libre</option>
          <option>Casad@</option>
          <option>Divorciad@</option>
          <option>Viud@</option>
        </select>
        <div class="invalid-feedback">
          Please select a valid Estado civil.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Seguro Médico</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.seguro" name="seguro" required>
        <div class="invalid-feedback">
          Seguro Médico required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Ocupación</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.ocupacion" name="ocupacion" required>
        <div class="invalid-feedback">
          Ocupación required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Discapacidad</label>
        <input type="text" class="form-control" [(ngModel)]="usuario.discapacidad" name="discapacidad" required>
        <div class="invalid-feedback">
          Discapacidad required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="country" class="form-label">Grupo sanguíneo</label>
        <select class="form-select" [(ngModel)]="usuario.grupoSanguineo" name="grupoSanguineo" required>
          <option value="">Choose...</option>
          <option>A+</option>
          <option>B+</option>
          <option>O+</option>
          <option>A-</option>
          <option>B-</option>
          <option>O-</option>
          <option>AB+</option>
          <option>AB-</option>
        </select>
        <div class="invalid-feedback">
          Please select a valid Grupo sanguíneo.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Talla [cm]</label>
        <input type="number" step="0.01" min="0.01" class="form-control" [(ngModel)]="usuario.talla" name="talla" required>
        <div class="invalid-feedback">
          Talla required.
        </div>
      </div>

      <div class="col-md-4">
        <label for="zip" class="form-label">Peso [kg]</label>
        <input type="number" min="0.01" step="0.01" class="form-control" [(ngModel)]="usuario.peso" name="peso" required>
        <div class="invalid-feedback">
          Peso required.
        </div>
      </div>
    </div>
  </form>

  <hr class="my-4">

  <div class="container">

    <div class="row">
      <div class="col-8">
        <h4 class="mb-3">Contactos</h4>
      </div>
      <div class="col-4">
        <button (click)="addTableContactos()" type="button" class="btn btn-primary">+</button>
      </div>
    </div>

    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Relación</th>
            <th scope="col">Nombres</th>
            <th scope="col">Apellidos</th>
            <th scope="col">Dirección</th>
            <th scope="col">Télefono</th>
            <th scope="col">Email</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of contactos; let i = index">
            <td contenteditable="true" [textContent]="item.relacion"
              (input)="item.relacion=onContentChanged($event, item.relacion)">{{item.relacion}}
            </td>

            <td contentEditable="true" [textContent]="item.nombres"
              (input)="item.nombres=onContentChanged($event, item.nombres)">{{item.nombres}}
            </td>

            <td contenteditable="true" [textContent]="item.apellidos"
              (input)="item.apellidos=onContentChanged($event, item.apellidos)">{{item.apellidos}}
            </td>

            <td contenteditable="true" [textContent]="item.direccion"
              (input)="item.direccion=onContentChanged($event, item.direccion)">{{item.direccion}}
            </td>

            <td contenteditable="true" [textContent]="item.telefono"
              (input)="item.telefono=onContentChanged($event, item.telefono)">{{item.telefono}}
            </td>

            <td contenteditable="true" [textContent]="item.email"
              (input)="item.email=onContentChanged($event, item.email)">{{item.email}}
            </td>
              
            <td>
              <button (click)='updateRowContactos(item)' class="btn btn-datatable btn-icon btn-transparent-dark mr-2">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 6L9 17L4 12" stroke="black" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </button>

              <button (click)="deleteRowContactos(item, i)" class="btn btn-datatable btn-icon btn-transparent-dark">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="feather feather-trash-2">
                  <polyline color="red" points="3 6 5 6 21 6"></polyline>
                  <path color="red" d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                  </path>
                  <line color="red" x1="10" y1="11" x2="10" y2="17"></line>
                  <line color="red" x1="14" y1="11" x2="14" y2="17"></line>
                </svg>
              </button>
            </td>
            
          </tr>

        </tbody>
      </table>
    </div>

  </div>

</div>